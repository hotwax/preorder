{"remainingRequest":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js!/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/aniket/Desktop/Hact/preorder/src/views/order-popover.vue?vue&type=template&id=6e1ebf08","dependencies":[{"path":"/home/aniket/Desktop/Hact/preorder/src/views/order-popover.vue","mtime":1634884664340},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js","mtime":1634884699504},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1634884699780},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/index.js","mtime":1634884699380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2lvbl9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImlvbi1pdGVtIik7CgogIHZhciBfY29tcG9uZW50X2lvbl9saXN0ID0gX3Jlc29sdmVDb21wb25lbnQoImlvbi1saXN0Iik7CgogIHZhciBfY29tcG9uZW50X2lvbl9jb250ZW50ID0gX3Jlc29sdmVDb21wb25lbnQoImlvbi1jb250ZW50Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2lvbl9jb250ZW50LCBudWxsLCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2xpc3QsIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2lvbl9pdGVtLCB7CiAgICAgICAgICAgIGJ1dHRvbjogIiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jdHgucmVsZWFzZUFsZXJ0CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfY3R4LiR0KCJSZWxlYXNlIikpLCAxCiAgICAgICAgICAgICAgLyogVEVYVCAqLwogICAgICAgICAgICAgICldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgICAgICB9LCA4CiAgICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICAgLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2lvbl9pdGVtLCB7CiAgICAgICAgICAgIGJ1dHRvbjogIiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jdHgub3BlbldhcmVob3VzZUxpc3QKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKF9jdHguJHQoIlJlbGVhc2UgdG8gYSB3YXJlaG91c2UiKSksIDEKICAgICAgICAgICAgICAvKiBURVhUICovCiAgICAgICAgICAgICAgKV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgICAgIH0sIDgKICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAsIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2l0ZW0sIHsKICAgICAgICAgICAgYnV0dG9uOiAiIiwKICAgICAgICAgICAgb25DbGljazogX2N0eC5lZGl0UHJvbWlzZURhdGUKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKF9jdHguJHQoIkVkaXQgcHJvbWlzZSBkYXRlIikpLCAxCiAgICAgICAgICAgICAgLyogVEVYVCAqLwogICAgICAgICAgICAgICldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgICAgICB9LCA4CiAgICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICAgLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2lvbl9pdGVtLCB7CiAgICAgICAgICAgIGJ1dHRvbjogIiIsCiAgICAgICAgICAgIGxpbmVzOiAibm9uZSIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jdHguY2FuY2VsQWxlcnQKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKF9jdHguJHQoIkNhbmNlbCIpKSwgMQogICAgICAgICAgICAgIC8qIFRFWFQgKi8KICAgICAgICAgICAgICApXTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgLyogU1RBQkxFICovCgogICAgICAgICAgfSwgOAogICAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAgICwgWyJvbkNsaWNrIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KTsKfQ=="},{"version":3,"sources":["/home/aniket/Desktop/Hact/preorder/src/views/order-popover.vue"],"names":[],"mappings":";;;;;;;;uBACE,YAAA,CAOc,sBAPd,EAOc,IAPd,EAOc;sBANZ;AAAA,aAKW,CALX,YAAA,CAKW,mBALX,EAKW,IALX,EAKW;0BAJT;AAAA,iBAAqE,CAArE,YAAA,CAAqE,mBAArE,EAAqE;AAA3D,YAAA,MAAM,EAAN,EAA2D;AAAnD,YAAA,OAAK,EAAE,IAAA,CAAA;AAA4C,WAArE,E;8BAAuC;AAAA,qBAAmB,C,kCAAhB,IAAA,CAAA,EAAA,CAAE,SAAF,C,GAAE;AAAA;eAAc,CAAnB;AAAA,a;;;;WAAvC,E;;AAAA,Y,WAAA,CAAqE,EACrE,YAAA,CAA0F,mBAA1F,EAA0F;AAAhF,YAAA,MAAM,EAAN,EAAgF;AAAxE,YAAA,OAAK,EAAE,IAAA,CAAA;AAAiE,WAA1F,E;8BAA6C;AAAA,qBAAkC,C,kCAA/B,IAAA,CAAA,EAAA,CAAE,wBAAF,C,GAAE;AAAA;eAA6B,CAAlC;AAAA,a;;;;WAA7C,E;;AAAA,Y,WAAA,CADqE,EAErE,YAAA,CAAmF,mBAAnF,EAAmF;AAAzE,YAAA,MAAM,EAAN,EAAyE;AAAjE,YAAA,OAAK,EAAE,IAAA,CAAA;AAA0D,WAAnF,E;8BAA2C;AAAA,qBAA6B,C,kCAA1B,IAAA,CAAA,EAAA,CAAE,mBAAF,C,GAAE;AAAA;eAAwB,CAA7B;AAAA,a;;;;WAA3C,E;;AAAA,Y,WAAA,CAFqE,EAGrE,YAAA,CAAgF,mBAAhF,EAAgF;AAAtE,YAAA,MAAM,EAAN,EAAsE;AAA/D,YAAA,KAAK,EAAC,MAAyD;AAAjD,YAAA,OAAK,EAAE,IAAA,CAAA;AAA0C,WAAhF,E;8BAAmD;AAAA,qBAAkB,C,kCAAf,IAAA,CAAA,EAAA,CAAE,QAAF,C,GAAE;AAAA;eAAa,CAAlB;AAAA,a;;;;WAAnD,E;;AAAA,Y,WAAA,CAHqE,CAArE;AAAA,S,CAIS;;;;AAAA,OALX,CAKW,CALX;AAAA,K,CAMY;;;;AAAA,GAPd,C","sourcesContent":["<template>\n  <ion-content>\n    <ion-list>\n      <ion-item button @click=\"releaseAlert\">{{ $t(\"Release\") }}</ion-item>\n      <ion-item button @click=\"openWarehouseList\"> {{ $t(\"Release to a warehouse\") }}</ion-item>\n      <ion-item button @click=\"editPromiseDate\"> {{ $t(\"Edit promise date\") }}</ion-item>\n      <ion-item button lines=\"none\" @click=\"cancelAlert\">{{ $t(\"Cancel\") }}</ion-item>\n    </ion-list>\n  </ion-content>\n</template>\n\n<script lang=\"ts\">\nimport {\n  IonContent,\n  IonItem,\n  IonList,\n  popoverController,\n  alertController,\n  modalController,\n} from \"@ionic/vue\";\nimport { defineComponent } from \"vue\";\nimport WarehouseModal from \"@/views/warehouse-modal.vue\";\nimport { useStore } from \"@/store\";\nimport PromiseDateModal from \"@/views/promise-date-modal.vue\";\n\nexport default defineComponent({\n  name: \"OrderPopover\",\n  props: ['item'],\n  methods: {\n    async releaseItem (item: any) {\n      return this.store.dispatch(\"order/releaseItem\", {\n          orderId: item.orderId,\n          orderItemSeqId: item.orderItemSeqId,\n          changeReasonEnumId: \"RELEASED\",\n          toFacilityId: \"_NA_\" // TODO Make it configurable\n        })\n    },\n    async cancelItem (item: any) {\n      return this.store.dispatch(\"order/cancelItem\", {\n          orderId: item.orderId,\n          orderItemSeqId: item.orderItemSeqId\n        })\n    },\n    closePopover() {\n      popoverController.dismiss({ dismissed: true });\n    },\n    releaseAlert: async function () {\n      const alert = await alertController.create({\n        header: this.$t(\"Release item\"),\n        cssClass: \"alert-message\",\n\n        message: this.$t(\n          'This item will be automatically brokered and assigned for fulfillment.'\n        ),\n        buttons: [\n            {\n              text: this.$t(\"Cancel\"),\n              role: 'cancel',\n              cssClass: 'secondary'\n            },\n            {\n              text: this.$t(\"Release\"),\n              handler: () => {\n                this.releaseItem(this.item).then(() => {\n                  this.store.dispatch(\"order/removeItem\", { item: this.item });\n                })\n              },\n            }\n          ]\n      });\n      this.closePopover();\n      return alert.present();\n    },\n    async openWarehouseList() {\n      const warehousemodal = await modalController.create({\n        component: WarehouseModal,\n        componentProps: {\n          item: this.item,\n        },\n      });\n      warehousemodal.onDidDismiss().finally(() => {\n        this.closePopover();\n      });\n      return warehousemodal.present();\n    },\n     async editPromiseDate() {\n      const datemodal = await modalController.create({\n        component: PromiseDateModal,\n        componentProps: {\n          item: this.item\n        },\n      });\n      datemodal.onDidDismiss().finally(() => {\n        this.closePopover();\n      });\n      return datemodal.present();\n    },\n    async cancelAlert() {\n      const alert = await alertController.create({\n        header: this.$t(\"Cancel item\"),\n        message: this.$t(\n          'This item will be cancelled. This action cannot be undone.'\n        ),\n        buttons: [\n            {\n              text: this.$t(\"Don't cancel\"),\n              role: 'cancel',\n              cssClass: 'secondary'\n            },\n            {\n              text: this.$t( \"Confirm\"),\n              handler: () => {\n                this.cancelItem(this.item).then(() => {\n                  this.store.dispatch(\"order/removeItem\", { item: this.item })\n                  this.closePopover()\n                })\n              },\n            },\n          ],\n      });\n      this.closePopover();\n      return alert.present();\n    },\n  },\n  setup() {\n    const store = useStore();\n    return {\n      store\n    }\n  },\n  components: { \n    IonContent,\n    IonItem,\n    IonList,\n  },\n});\n</script>"],"sourceRoot":""}]}