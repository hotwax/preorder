{"remainingRequest":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js!/home/aniket/Desktop/Hact/preorder/node_modules/ts-loader/index.js??ref--14-2!/home/aniket/Desktop/Hact/preorder/node_modules/eslint-loader/index.js??ref--13-0!/home/aniket/Desktop/Hact/preorder/src/store/modules/user/actions.ts","dependencies":[{"path":"/home/aniket/Desktop/Hact/preorder/src/store/modules/user/actions.ts","mtime":1634884664340},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js","mtime":1634884699504},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/ts-loader/index.js","mtime":1634884699568},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/eslint-loader/index.js","mtime":1634884699056}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FuaWtldC9EZXNrdG9wL0hhY3QvcHJlb3JkZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvVXNlclNlcnZpY2UnOwppbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL211dGF0aW9uLXR5cGVzJzsKaW1wb3J0IHsgaGFzRXJyb3IsIHNob3dUb2FzdCB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICdAL2kxOG4nOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBlbWl0dGVyIGZyb20gJ0AvZXZlbnQtYnVzJzsKaW1wb3J0ICJtb21lbnQtdGltZXpvbmUiOwp2YXIgYWN0aW9ucyA9IHsKICAvKioKICAqIExvZ2luIHVzZXIgYW5kIHJldHVybiB0b2tlbgogICovCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIF9yZWYyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByZXNwOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgICB1c2VybmFtZSA9IF9yZWYyLnVzZXJuYW1lLCBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBVc2VyU2VydmljZS5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXNwLnN0YXR1cyA9PT0gMjAwICYmIHJlc3AuZGF0YSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCFyZXNwLmRhdGEudG9rZW4pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29tbWl0KHR5cGVzLlVTRVJfVE9LRU5fQ0hBTkdFRCwgewogICAgICAgICAgICAgICAgbmV3VG9rZW46IHJlc3AuZGF0YS50b2tlbgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGRpc3BhdGNoKCdnZXRQcm9maWxlJyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcC5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgaWYgKCFoYXNFcnJvcihyZXNwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBzaG93VG9hc3QodHJhbnNsYXRlKCdTb3JyeSwgeW91ciB1c2VybmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QuIFBsZWFzZSB0cnkgYWdhaW4uJykpOwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImVycm9yIiwgcmVzcC5kYXRhLl9FUlJPUl9NRVNTQUdFXyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKHJlc3AuZGF0YS5fRVJST1JfTUVTU0FHRV8pKSk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgc2hvd1RvYXN0KHRyYW5zbGF0ZSgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKSk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiZXJyb3IiLCByZXNwLmRhdGEuX0VSUk9SX01FU1NBR0VfKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IocmVzcC5kYXRhLl9FUlJPUl9NRVNTQUdFXykpKTsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjQ7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICBzaG93VG9hc3QodHJhbnNsYXRlKCdTb21ldGhpbmcgd2VudCB3cm9uZycpKTsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJlcnJvciIsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoX2NvbnRleHQudDApKSk7CgogICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDI0XV0pOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqCiAgICogTG9nb3V0IHVzZXIKICAgKi8KICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb21taXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFueSBvdGhlciB0YXNrcyBpZiBuZWVkCiAgICAgICAgICAgICAgY29tbWl0KHR5cGVzLlVTRVJfRU5EX1NFU1NJT04pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqCiAgICogR2V0IFVzZXIgcHJvZmlsZQogICAqLwogIGdldFByb2ZpbGU6IGZ1bmN0aW9uIGdldFByb2ZpbGUoX3JlZjQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCByZXNwLCBsb2NhbFRpbWVab25lOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIFVzZXJTZXJ2aWNlLmdldFByb2ZpbGUoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBsb2NhbFRpbWVab25lID0gbW9tZW50LnR6Lmd1ZXNzKCk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS51c2VyVGltZVpvbmUgIT09IGxvY2FsVGltZVpvbmUpIHsKICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCd0aW1lWm9uZURpZmZlcmVudCcsIHsKICAgICAgICAgICAgICAgICAgICBwcm9maWxlVGltZVpvbmU6IHJlc3AuZGF0YS51c2VyVGltZVpvbmUsCiAgICAgICAgICAgICAgICAgICAgbG9jYWxUaW1lWm9uZTogbG9jYWxUaW1lWm9uZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb21taXQodHlwZXMuVVNFUl9JTkZPX1VQREFURUQsIHJlc3AuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqCiAgICogVXBkYXRlIHVzZXIgdGltZVpvbmUKICAgKi8KICBzZXRVc2VyVGltZVpvbmU6IGZ1bmN0aW9uIHNldFVzZXJUaW1lWm9uZShfcmVmNSwgcGF5bG9hZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCByZXNwLCBjdXJyZW50OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGUsIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIFVzZXJTZXJ2aWNlLnNldFVzZXJUaW1lWm9uZShwYXlsb2FkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gMjAwICYmICFoYXNFcnJvcihyZXNwKSkgewogICAgICAgICAgICAgICAgY3VycmVudCA9IHN0YXRlLmN1cnJlbnQ7CiAgICAgICAgICAgICAgICBjdXJyZW50LnVzZXJUaW1lWm9uZSA9IHBheWxvYWQudHpJZDsKICAgICAgICAgICAgICAgIGNvbW1pdCh0eXBlcy5VU0VSX0lORk9fVVBEQVRFRCwgY3VycmVudCk7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QodHJhbnNsYXRlKCJUaW1lIHpvbmUgdXBkYXRlZCBzdWNjZXNzZnVsbHkiKSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqCiAgICogU2V0IHVzZXIncyBzZWxlY3RlZCBicmFuZAogICAqLwogIHNldFNlbGVjdGVkQnJhbmQ6IGZ1bmN0aW9uIHNldFNlbGVjdGVkQnJhbmQoX3JlZjYsIHBheWxvYWQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgIHZhciBjb21taXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICAgICAgICAgIGNvbW1pdCh0eXBlcy5VU0VSX0JSQU5EX1VQREFURUQsIHBheWxvYWQuc2VsZWN0ZWRCcmFuZCk7IC8vIFJlc2V0IGFsbCB0aGUgY3VycmVudCBxdWVyaWVzCgogICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoKCJwcm9kdWN0L3Jlc2V0UHJvZHVjdExpc3QiKTsKCiAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2goIm9yZGVyL3Jlc2V0T3JkZXJRdWVyeSIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBhY3Rpb25zOw=="},{"version":3,"sources":["/home/aniket/Desktop/Hact/preorder/node_modules/eslint-loader/index.js??ref--13-0!/home/aniket/Desktop/Hact/preorder/src/store/modules/user/actions.ts"],"names":[],"mappings":"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","sourcesContent":["import { UserService } from '@/services/UserService'\nimport { ActionTree } from 'vuex'\nimport RootState from '@/store/RootState'\nimport UserState from './UserState'\nimport * as types from './mutation-types'\nimport { hasError, showToast } from '@/utils'\nimport { translate } from '@/i18n'\nimport moment from 'moment';\nimport emitter from '@/event-bus'\nimport \"moment-timezone\";\n\nconst actions: ActionTree<UserState, RootState> = {\n\n  /**\n * Login user and return token\n */\n  async login ({ commit, dispatch }, { username, password }) {\n    try {\n      const resp = await UserService.login(username, password)\n      if (resp.status === 200 && resp.data) {\n        if (resp.data.token) {\n            commit(types.USER_TOKEN_CHANGED, { newToken: resp.data.token })\n            dispatch('getProfile')\n            return resp.data;\n        } else if (hasError(resp)) {\n          showToast(translate('Sorry, your username or password is incorrect. Please try again.'));\n          console.error(\"error\", resp.data._ERROR_MESSAGE_);\n          return Promise.reject(new Error(resp.data._ERROR_MESSAGE_));\n        }\n      } else {\n        showToast(translate('Something went wrong'));\n        console.error(\"error\", resp.data._ERROR_MESSAGE_);\n        return Promise.reject(new Error(resp.data._ERROR_MESSAGE_));\n      }\n    } catch (err) {\n      showToast(translate('Something went wrong'));\n      console.error(\"error\", err);\n      return Promise.reject(new Error(err))\n    }\n    // return resp\n  },\n\n  /**\n   * Logout user\n   */\n  async logout ({ commit }) {\n    // TODO add any other tasks if need\n    commit(types.USER_END_SESSION)\n    \n  },\n\n  /**\n   * Get User profile\n   */\n  async getProfile ( { commit }) {\n    const resp = await UserService.getProfile()\n    if (resp.status === 200) {\n      const localTimeZone = moment.tz.guess();\n      if (resp.data.userTimeZone !== localTimeZone) {\n        emitter.emit('timeZoneDifferent', { profileTimeZone: resp.data.userTimeZone, localTimeZone});\n      }\n      commit(types.USER_INFO_UPDATED, resp.data);\n    }\n  },\n\n  /**\n   * Update user timeZone\n   */\n     async setUserTimeZone ( { state, commit }, payload) {\n      const resp = await UserService.setUserTimeZone(payload)\n      if (resp.status === 200 && !hasError(resp)) {\n        const current: any = state.current;\n        current.userTimeZone = payload.tzId;\n        commit(types.USER_INFO_UPDATED, current);\n        showToast(translate(\"Time zone updated successfully\"));\n      }\n    },\n\n  /**\n   * Set user's selected brand\n   */\n     async setSelectedBrand ( { commit }, payload) {\n      commit(types.USER_BRAND_UPDATED, payload.selectedBrand);\n      // Reset all the current queries\n      this.dispatch(\"product/resetProductList\")\n      this.dispatch(\"order/resetOrderQuery\")\n    }\n}\nexport default actions;"],"sourceRoot":""}]}