{"remainingRequest":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js!/home/aniket/Desktop/Hact/preorder/node_modules/ts-loader/index.js??ref--14-2!/home/aniket/Desktop/Hact/preorder/node_modules/eslint-loader/index.js??ref--13-0!/home/aniket/Desktop/Hact/preorder/src/services/JobService.ts","dependencies":[{"path":"/home/aniket/Desktop/Hact/preorder/src/services/JobService.ts","mtime":1634884664340},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js","mtime":1634884699504},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/ts-loader/index.js","mtime":1634884699568},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/eslint-loader/index.js","mtime":1634884699056}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYW5pa2V0L0Rlc2t0b3AvSGFjdC9wcmVvcmRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwoKdmFyIGZldGNoSm9icyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGF5bG9hZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBhcGkoewogICAgICAgICAgICAgIHVybDogImRhdGFNYW5hZ2VyTG9ncyIsCiAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgZGF0YTogcGF5bG9hZAogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIGZldGNoSm9icyhfeCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7Cgp2YXIgcHJlcGFyZUZldGNoSm9ic1F1ZXJ5ID0gZnVuY3Rpb24gcHJlcGFyZUZldGNoSm9ic1F1ZXJ5KCkgewogIHJldHVybiB7CiAgICAiZmlsdGVycyI6IHsKICAgICAgImNvbmZpZ0lkIjogWyJNRE1fUkVMX09SRF9JVE1fSlNPTiIsICJNRE1fQ0FOX09SRF9JVE1fSlNPTiIsICJNRE1fVVBEX09SRF9JVE1fSlNPTiJdLAogICAgICAiY29uZmlnSWRfb3AiOiAiaW4iLAogICAgICAic3RhdHVzSWQiOiBbJ1NFUlZJQ0VfUEVORElORycsICdTRVJWSUNFX1JVTk5JTkcnLCAnU0VSVklDRV9RVUVVRUQnXSwKICAgICAgInN0YXR1c0lkX29wIjogImluIgogICAgfSwKICAgICJmaWVsZHNUb1NlbGVjdCI6IFsiam9iSWQiLCAiY3JlYXRlZERhdGUiLCAic2NyaXB0VGl0bGUiLCAiZGVzY3JpcHRpb24iXSwKICAgICJzb3J0QnkiOiAiY3JlYXRlZERhdGUgQVNDIiwKICAgICJzb3J0T3JkZXIiOiAiY3JlYXRlZERhdGUgQVNDIiAvLyBUT0RPIFJlbW92ZSBpdAoKICB9Owp9OwoKdmFyIHBvbGxKb2JzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgdmFyIGxhc3RQb2xsOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgbGFzdFBvbGwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgiam9iL2ZldGNoUG9sbGVkSm9icyIsIHByZXBhcmVGZXRjaEpvYnNRdWVyeSgpKTsKICAgICAgICAgICAgfSwgcHJvY2Vzcy5lbnYuVlVFX0FQUF9QT0xMX1RJTUUpOwoKICAgICAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNsZWFyVGltZW91dChsYXN0UG9sbCk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gcG9sbEpvYnMoKSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7CgpleHBvcnQgdmFyIEpvYlNlcnZpY2UgPSB7CiAgZmV0Y2hKb2JzOiBmZXRjaEpvYnMsCiAgcG9sbEpvYnM6IHBvbGxKb2JzLAogIHByZXBhcmVGZXRjaEpvYnNRdWVyeTogcHJlcGFyZUZldGNoSm9ic1F1ZXJ5Cn07"},{"version":3,"sources":["/home/aniket/Desktop/Hact/preorder/node_modules/eslint-loader/index.js??ref--13-0!/home/aniket/Desktop/Hact/preorder/src/services/JobService.ts"],"names":[],"mappings":";;AAAA,OAAO,GAAP,MAAgB,QAAhB;AACA,OAAO,KAAP,MAAkB,SAAlB;;AAEA,IAAM,SAAS;AAAA,qEAAG,iBAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA,6CACP,GAAG,CAAC;AACH,cAAA,GAAG,EAAE,iBADF;AAEH,cAAA,MAAM,EAAE,MAFL;AAGH,cAAA,IAAI,EAAE;AAHH,aAAD,CADI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAT,SAAS;AAAA;AAAA;AAAA,GAAf;;AAOA,IAAM,qBAAqB,GAAG,SAAxB,qBAAwB,GAAK;AACjC,SAAO;AACL,eAAU;AACR,kBAAY,CAAC,sBAAD,EAAyB,sBAAzB,EAAiD,sBAAjD,CADJ;AAER,qBAAe,IAFP;AAGR,kBAAY,CAAE,iBAAF,EAAqB,iBAArB,EAAwC,gBAAxC,CAHJ;AAIR,qBAAe;AAJP,KADL;AAOL,sBAAkB,CAAC,OAAD,EAAU,aAAV,EAAyB,aAAzB,EAAwC,aAAxC,CAPb;AAQL,cAAW,iBARN;AASL,iBAAc,iBATT,CAS2B;;AAT3B,GAAP;AAWD,CAZD;;AAaA,IAAM,QAAQ;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACT,YAAA,QADS,GACE,UAAU,CAAC,YAAA;AAC1B,cAAA,KAAK,CAAC,QAAN,CAAe,qBAAf,EAAsC,qBAAqB,EAA3D;AACD,aAF0B,EAExB,OAAO,CAAC,GAAR,CAAY,iBAFY,CADZ;;AAIf,YAAA,MAAM,CAAC,cAAP,GAAwB,YAAA;AACtB,cAAA,YAAY,CAAC,QAAD,CAAZ;AACD,aAFD;;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAR,QAAQ;AAAA;AAAA;AAAA,GAAd;;AASA,OAAO,IAAM,UAAU,GAAG;AACtB,EAAA,SAAS,EAAT,SADsB;AAEtB,EAAA,QAAQ,EAAR,QAFsB;AAGtB,EAAA,qBAAqB,EAArB;AAHsB,CAAnB","sourcesContent":["import api from '../api'\nimport store from '@/store'\n\nconst fetchJobs = async (payload: any): Promise <any>  => {\n    return api({\n            url: \"dataManagerLogs\", \n            method: \"post\",\n            data: payload\n          });\n}\nconst prepareFetchJobsQuery = () => {\n  return {\n    \"filters\":{\n      \"configId\": [\"MDM_REL_ORD_ITM_JSON\", \"MDM_CAN_ORD_ITM_JSON\", \"MDM_UPD_ORD_ITM_JSON\"],\n      \"configId_op\": \"in\",\n      \"statusId\": [ 'SERVICE_PENDING', 'SERVICE_RUNNING', 'SERVICE_QUEUED'],\n      \"statusId_op\": \"in\",\n    },\n    \"fieldsToSelect\": [\"jobId\", \"createdDate\", \"scriptTitle\", \"description\"],\n    \"sortBy\" : \"createdDate ASC\",\n    \"sortOrder\" : \"createdDate ASC\" // TODO Remove it\n  }\n}\nconst pollJobs = async (): Promise <any>  => {\n  const lastPoll = setTimeout(function() {\n    store.dispatch(\"job/fetchPolledJobs\", prepareFetchJobsQuery())\n  }, process.env.VUE_APP_POLL_TIME);\n  window.onbeforeunload = function(){\n    clearTimeout(lastPoll);\n  }\n}\n\nexport const JobService = {\n    fetchJobs,\n    pollJobs,\n    prepareFetchJobsQuery\n}"],"sourceRoot":""}]}