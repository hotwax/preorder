{"remainingRequest":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js!/home/aniket/Desktop/Hact/preorder/node_modules/ts-loader/index.js??ref--14-2!/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/aniket/Desktop/Hact/preorder/src/views/product-details.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/aniket/Desktop/Hact/preorder/src/views/product-details.vue","mtime":1634884664340},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js","mtime":1634884699504},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/ts-loader/index.js","mtime":1634884699568},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/index.js","mtime":1634884699380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvYW5pa2V0L0Rlc2t0b3AvSGFjdC9wcmVvcmRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbmlrZXQvRGVza3RvcC9IYWN0L3ByZW9yZGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvYW5pa2V0L0Rlc2t0b3AvSGFjdC9wcmVvcmRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IElvbkJhZGdlLCBJb25CdXR0b24sIElvbkJ1dHRvbnMsIElvbkJhY2tCdXR0b24sIElvbkNhcmQsIElvbkNoaXAsIElvbkNvbnRlbnQsIElvbkZvb3RlciwgSW9uSGVhZGVyLCBJb25MYWJlbCwgSW9uTGlzdCwgSW9uTGlzdEhlYWRlciwgSW9uSWNvbiwgSW9uSXRlbSwgSW9uSW5wdXQsIElvblBhZ2UsIElvblJvdywgSW9uVGh1bWJuYWlsLCBJb25UaXRsZSwgSW9uVG9nZ2xlLCBJb25TZWxlY3QsIElvblNlbGVjdE9wdGlvbiwgSW9uVG9vbGJhciwgYWxlcnRDb250cm9sbGVyLCBtb2RhbENvbnRyb2xsZXIgfSBmcm9tICJAaW9uaWMvdnVlIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgaW5mb3JtYXRpb25DaXJjbGUsIHNlbmQsIGJ1c2luZXNzLCBjbG9zZUNpcmNsZSwgaG91cmdsYXNzLCBjYWxlbmRhciwgY2xvc2UsIGxpc3QsIHJpYmJvbiB9IGZyb20gImlvbmljb25zL2ljb25zIjsKaW1wb3J0IFdhcmVob3VzZU1vZGFsIGZyb20gIi4vd2FyZWhvdXNlLW1vZGFsLnZ1ZSI7CmltcG9ydCBCYWNrZ3JvdW5kSm9iTW9kYWwgZnJvbSAiLi9iYWNrZ3JvdW5kLWpvYi1tb2RhbC52dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gIkAvc3RvcmUiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IFByb2R1Y3RTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9Qcm9kdWN0U2VydmljZSc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IEltYWdlIGZyb20gJ0AvY29tcG9uZW50cy9JbWFnZS52dWUnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJwcm9kdWN0LWRldGFpbHMiLAogIGNvbXBvbmVudHM6IHsKICAgIElvbkJhZGdlOiBJb25CYWRnZSwKICAgIElvbkJ1dHRvbjogSW9uQnV0dG9uLAogICAgSW9uQnV0dG9uczogSW9uQnV0dG9ucywKICAgIElvbkJhY2tCdXR0b246IElvbkJhY2tCdXR0b24sCiAgICBJb25DYXJkOiBJb25DYXJkLAogICAgSW9uQ2hpcDogSW9uQ2hpcCwKICAgIElvbkNvbnRlbnQ6IElvbkNvbnRlbnQsCiAgICBJb25Gb290ZXI6IElvbkZvb3RlciwKICAgIElvbkhlYWRlcjogSW9uSGVhZGVyLAogICAgSW9uTGFiZWw6IElvbkxhYmVsLAogICAgSW9uTGlzdDogSW9uTGlzdCwKICAgIElvbkxpc3RIZWFkZXI6IElvbkxpc3RIZWFkZXIsCiAgICBJb25JY29uOiBJb25JY29uLAogICAgSW9uSXRlbTogSW9uSXRlbSwKICAgIElvbklucHV0OiBJb25JbnB1dCwKICAgIElvblBhZ2U6IElvblBhZ2UsCiAgICBJb25Sb3c6IElvblJvdywKICAgIElvblNlbGVjdDogSW9uU2VsZWN0LAogICAgSW9uU2VsZWN0T3B0aW9uOiBJb25TZWxlY3RPcHRpb24sCiAgICBJb25UaHVtYm5haWw6IElvblRodW1ibmFpbCwKICAgIElvblRpdGxlOiBJb25UaXRsZSwKICAgIElvblRvZ2dsZTogSW9uVG9nZ2xlLAogICAgSW9uVG9vbGJhcjogSW9uVG9vbGJhciwKICAgIEltYWdlOiBJbWFnZQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyBUT0RPIEhhbmRsZSBpZiBwcm9kdWN0IGlkIGlzIGludmFsaWQKICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goJ3Byb2R1Y3QvbG9hZEN1cnJlbnQnLCB7CiAgICAgIHByb2R1Y3RJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuZ2V0VmFyaWFudFByb2R1Y3RzKCk7CiAgICB9KTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3Byb2Nlc3MkZW52OwoKICAgIHJldHVybiB7CiAgICAgIG9yZGVyZWRBZnRlcjogJycsCiAgICAgIG9yZGVyZWRCZWZvcmU6ICcnLAogICAgICBwcm9taXNlZEFmdGVyOiAnJywKICAgICAgcHJvbWlzZWRCZWZvcmU6ICcnLAogICAgICBzZWxlY3RlZEl0ZW1zOiBbXSwKICAgICAgc2VsZWN0ZWRWYXJpYW50czoge30sCiAgICAgIGN1c290bWVyTG95YWx0eU9wdGlvbnM6IEpTT04ucGFyc2UoKF9wcm9jZXNzJGVudiA9IHByb2Nlc3MuZW52KSA9PT0gbnVsbCB8fCBfcHJvY2VzcyRlbnYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wcm9jZXNzJGVudi5WVUVfQVBQX0NVU1RfTE9ZQUxUWV9PUFRJT05TKSwKICAgICAgY3Vzb3RtZXJMb3lhbHR5OiAnJywKICAgICAgaGFzUHJvbWlzZWREYXRlOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgZ2V0UHJvZHVjdFN0b2NrOiAnc3RvY2svZ2V0UHJvZHVjdFN0b2NrJywKICAgIGN1cnJlbnQ6ICdwcm9kdWN0L2dldEN1cnJlbnQnLAogICAgZ2V0UHJvZHVjdDogJ3Byb2R1Y3QvZ2V0UHJvZHVjdCcsCiAgICBpc0pvYlBlbmRpbmc6ICdqb2IvaXNKb2JQZW5kaW5nJywKICAgIGpvYlRvdGFsOiAnam9iL2dldFRvdGFsJywKICAgIHVzZXJQcm9maWxlOiAndXNlci9nZXRVc2VyUHJvZmlsZScsCiAgICBzZWxlY3RlZEJyYW5kOiAndXNlci9nZXRTZWxlY3RlZEJyYW5kJwogIH0pKSwKICBtZXRob2RzOiB7CiAgICBnZXRWYXJpYW50UHJvZHVjdHM6IGZ1bmN0aW9uIGdldFZhcmlhbnRQcm9kdWN0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXlsb2FkLCBvcmRlcmVkQmVmb3JlLCBvcmRlcmVkQWZ0ZXIsIGRhdGVRdWVyeSwgcHJvbWlzZWRCZWZvcmUsIHByb21pc2VkQWZ0ZXIsIHByb21pc2VkRGF0ZVF1ZXJ5OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgIGdyb3VwQnlGaWVsZDogJ3Byb2R1Y3RJZCcsCiAgICAgICAgICAgICAgICAgIGdyb3VwTGltaXQ6IDAsCiAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IFsicGFyZW50UHJvZHVjdElkOiAiICsgX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoSlNPTi5wYXJzZShwcm9jZXNzLmVudi5WVUVfQVBQX09SREVSX0ZJTFRFUlMpKSkKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5vcmRlcmVkQmVmb3JlIHx8IF90aGlzMi5vcmRlcmVkQWZ0ZXIpIHsKICAgICAgICAgICAgICAgICAgb3JkZXJlZEJlZm9yZSA9IChfdGhpczIub3JkZXJlZEJlZm9yZSA/IG1vbWVudC50eihfdGhpczIub3JkZXJlZEJlZm9yZSwgJ1lZWVktTU0tREQnLCBfdGhpczIudXNlclByb2ZpbGUudXNlclRpbWVab25lKSA6IG1vbWVudC50eihtb21lbnQoKSwgX3RoaXMyLnVzZXJQcm9maWxlLnVzZXJUaW1lWm9uZSkpLmVuZE9mKCdkYXknKS51dGMoKS5mb3JtYXQoJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nKTsKICAgICAgICAgICAgICAgICAgb3JkZXJlZEFmdGVyID0gKF90aGlzMi5vcmRlcmVkQWZ0ZXIgPyBtb21lbnQudHooX3RoaXMyLm9yZGVyZWRBZnRlciwgJ1lZWVktTU0tREQnLCBfdGhpczIudXNlclByb2ZpbGUudXNlclRpbWVab25lKSA6IG1vbWVudC50eigiMDAwMS0wMS0wMSIsICdZWVlZLU1NLUREJywgX3RoaXMyLnVzZXJQcm9maWxlLnVzZXJUaW1lWm9uZSkpLnN0YXJ0T2YoJ2RheScpLnV0YygpLmZvcm1hdCgnWVlZWS1NTS1ERFRISDptbTpzc1taXScpOwogICAgICAgICAgICAgICAgICBkYXRlUXVlcnkgPSAnb3JkZXJEYXRlOiBbJyArIG9yZGVyZWRBZnRlciArICcgVE8gJyArIG9yZGVyZWRCZWZvcmUgKyAnXSc7CiAgICAgICAgICAgICAgICAgIHBheWxvYWQuZmlsdGVycy5wdXNoKGRhdGVRdWVyeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5wcm9taXNlZEJlZm9yZSB8fCBfdGhpczIucHJvbWlzZWRBZnRlcikgewogICAgICAgICAgICAgICAgICBwcm9taXNlZEJlZm9yZSA9IChfdGhpczIucHJvbWlzZWRCZWZvcmUgPyBtb21lbnQudHooX3RoaXMyLnByb21pc2VkQmVmb3JlLCAnWVlZWS1NTS1ERCcsIF90aGlzMi51c2VyUHJvZmlsZS51c2VyVGltZVpvbmUpIDogbW9tZW50LnR6KG1vbWVudCgpLCBfdGhpczIudXNlclByb2ZpbGUudXNlclRpbWVab25lKSkuZW5kT2YoJ2RheScpLnV0YygpLmZvcm1hdCgnWVlZWS1NTS1ERFRISDptbTpzc1taXScpOwogICAgICAgICAgICAgICAgICBwcm9taXNlZEFmdGVyID0gKF90aGlzMi5wcm9taXNlZEFmdGVyID8gbW9tZW50LnR6KF90aGlzMi5wcm9taXNlZEFmdGVyLCAnWVlZWS1NTS1ERCcsIF90aGlzMi51c2VyUHJvZmlsZS51c2VyVGltZVpvbmUpIDogbW9tZW50LnR6KCIwMDAxLTAxLTAxIiwgJ1lZWVktTU0tREQnLCBfdGhpczIudXNlclByb2ZpbGUudXNlclRpbWVab25lKSkuc3RhcnRPZignZGF5JykudXRjKCkuZm9ybWF0KCdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJyk7CiAgICAgICAgICAgICAgICAgIHByb21pc2VkRGF0ZVF1ZXJ5ID0gJ3Byb21pc2VkRGF0ZXRpbWU6IFsnICsgcHJvbWlzZWRBZnRlciArICcgVE8gJyArIHByb21pc2VkQmVmb3JlICsgJ10nOwogICAgICAgICAgICAgICAgICBwYXlsb2FkLmZpbHRlcnMucHVzaChwcm9taXNlZERhdGVRdWVyeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5jdXNvdG1lckxveWFsdHkpIHsKICAgICAgICAgICAgICAgICAgcGF5bG9hZC5maWx0ZXJzLnB1c2goJ29yZGVyTm90ZXM6ICcgKyBfdGhpczIuY3Vzb3RtZXJMb3lhbHR5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5oYXNQcm9taXNlZERhdGUpIHsKICAgICAgICAgICAgICAgICAgcGF5bG9hZC5maWx0ZXJzLnB1c2goIi1wcm9taXNlZERhdGV0aW1lOiAqIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5zZWxlY3RlZEJyYW5kKSB7CiAgICAgICAgICAgICAgICAgIHBheWxvYWQuZmlsdGVycy5wdXNoKCdwcm9kdWN0U3RvcmVJZDogJyArIF90aGlzMi5zZWxlY3RlZEJyYW5kKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpczIuc3RvcmUuZGlzcGF0Y2goInByb2R1Y3QvZmV0Y2hDdXJyZW50TGlzdCIsIHBheWxvYWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGluZm9BbGVydDogZnVuY3Rpb24gaW5mb0FsZXJ0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBhbGVydDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0Q29udHJvbGxlci5jcmVhdGUoewogICAgICAgICAgICAgICAgICBoZWFkZXI6IF90aGlzMy4kdCgiSG93IGFyZSBvcmRlcnMgcmVsZWFzZWQ/IiksCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMy4kdCgiT3JkZXJzIGFyZSByZWxlYXNlZCBmcm9tIG9sZGVzdCB0byBuZXdlc3QuIFVzZSB0aGUgRGF0ZSBmaWx0ZXIgdG8gaWRlbnRpZnkgb3JkZXJzIHRha2VuIGJlZm9yZSBhIGNlcnRhaW4gZGF0ZS4iKSArICI8cD4iICsgX3RoaXMzLiR0KCJUaGUgb3JkZXIgY291bnQgaW4gcHJvZHVjdCBjYXJkcyB3aWxsIGJlIHVwZGF0ZWQgYmFzZWQgb24gdGhlIGZpbHRlcnMgeW91IHNlbGVjdC4iKSArICI8L3A+IiwKICAgICAgICAgICAgICAgICAgYnV0dG9uczogW190aGlzMy4kdCgiRGlzbWlzcyIpXQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGFsZXJ0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgYWxlcnQucHJlc2VudCgpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVsZWFzZUFsZXJ0OiBmdW5jdGlvbiByZWxlYXNlQWxlcnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGl0ZW1Db3VudCwgbWVzc2FnZSwgYWxlcnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGl0ZW1Db3VudCA9IE9iamVjdC5rZXlzKF90aGlzNC5zZWxlY3RlZFZhcmlhbnRzKS5yZWR1Y2UoZnVuY3Rpb24gKGNvdW50LCBwcm9kdWN0SWQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ICsgcGFyc2VJbnQoX3RoaXM0LnNlbGVjdGVkVmFyaWFudHNbcHJvZHVjdElkXSk7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAoX3RoaXM0LmpvYlRvdGFsID4gMCA/IChfdGhpczQuam9iVG90YWwgPT09IDEgPyBfdGhpczQuJHQoIlRoZXJlIGlzIGEgam9iIGFscmVhZHkgcGVuZGluZy4iKSA6IF90aGlzNC4kdCgiVGhlcmUgYXJlIGpvYnMgYWxyZWFkeSBwZW5kaW5nLiIsIHsKICAgICAgICAgICAgICAgICAgY291bnQ6IF90aGlzNC5qb2JUb3RhbAogICAgICAgICAgICAgICAgfSkpICsgIiAiIDogIiIpICsgX3RoaXM0LiR0KCdwcmVvcmRlcnMgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGJyb2tlcmVkIGFuZCBhc3NpZ25lZCBmb3IgZnVsZmlsbG1lbnQuJywgewogICAgICAgICAgICAgICAgICBjb3VudDogaXRlbUNvdW50CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBhbGVydENvbnRyb2xsZXIuY3JlYXRlKHsKICAgICAgICAgICAgICAgICAgaGVhZGVyOiBfdGhpczQuJHQoIlJlbGVhc2Ugb3JkZXJzIiksCiAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAiYWxlcnQtbWVzc2FnZSIsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogX3RoaXM0LiR0KCdDYW5jZWwnKSwKICAgICAgICAgICAgICAgICAgICByb2xlOiAnY2FuY2VsJywKICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NlY29uZGFyeScKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHRleHQ6IF90aGlzNC4kdCgnUmVsZWFzZScpLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucmVsZWFzZUl0ZW1zKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGFsZXJ0ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgYWxlcnQucHJlc2VudCgpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2FuY2VsQWxlcnQ6IGZ1bmN0aW9uIGNhbmNlbEFsZXJ0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBpdGVtQ291bnQsIG1lc3NhZ2UsIGFsZXJ0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpdGVtQ291bnQgPSBPYmplY3Qua2V5cyhfdGhpczUuc2VsZWN0ZWRWYXJpYW50cykucmVkdWNlKGZ1bmN0aW9uIChjb3VudCwgcHJvZHVjdElkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudCArIHBhcnNlSW50KF90aGlzNS5zZWxlY3RlZFZhcmlhbnRzW3Byb2R1Y3RJZF0pOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgICAgICBtZXNzYWdlID0gKF90aGlzNS5qb2JUb3RhbCA+IDAgPyAoX3RoaXM1LmpvYlRvdGFsID09PSAxID8gX3RoaXM1LiR0KCJUaGVyZSBpcyBhIGpvYiBhbHJlYWR5IHBlbmRpbmcuIikgOiBfdGhpczUuJHQoIlRoZXJlIGFyZSBqb2JzIGFscmVhZHkgcGVuZGluZy4iLCB7CiAgICAgICAgICAgICAgICAgIGNvdW50OiBfdGhpczUuam9iVG90YWwKICAgICAgICAgICAgICAgIH0pKSArICIgIiA6ICIiKSArIF90aGlzNS4kdCgncHJlb3JkZXJzIHdpbGwgYmUgY2FuY2VsbGVkLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLicsIHsKICAgICAgICAgICAgICAgICAgY291bnQ6IGl0ZW1Db3VudAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnRDb250cm9sbGVyLmNyZWF0ZSh7CiAgICAgICAgICAgICAgICAgIGhlYWRlcjogX3RoaXM1LiR0KCJDYW5jZWwgb3JkZXJzIiksCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogX3RoaXM1LiR0KCJEb24ndCBjYW5jZWwiKSwKICAgICAgICAgICAgICAgICAgICByb2xlOiAnY2FuY2VsJywKICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NlY29uZGFyeScKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHRleHQ6IF90aGlzNS4kdCgiQ29uZmlybSIpLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuY2FuY2VsSXRlbXMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYWxlcnQgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBhbGVydC5wcmVzZW50KCkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvcGVuV2FyZWhvdXNlTGlzdDogZnVuY3Rpb24gb3BlbldhcmVob3VzZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHdhcmVob3VzZW1vZGFsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9kYWxDb250cm9sbGVyLmNyZWF0ZSh7CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogV2FyZWhvdXNlTW9kYWwsCiAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAibXktY3VzdG9tLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICBpdGVtczogW10sCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWYXJpYW50czogX3RoaXM2LnNlbGVjdGVkVmFyaWFudHMKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHdhcmVob3VzZW1vZGFsID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgd2FyZWhvdXNlbW9kYWwucHJlc2VudCgpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb3BlbkFjdGl2ZUpvYnM6IGZ1bmN0aW9uIG9wZW5BY3RpdmVKb2JzKCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgYmdqb2Jtb2RhbDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIG1vZGFsQ29udHJvbGxlci5jcmVhdGUoewogICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IEJhY2tncm91bmRKb2JNb2RhbCwKICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICJteS1jdXN0b20tY2xhc3MiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgYmdqb2Jtb2RhbCA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIGJnam9ibW9kYWwucHJlc2VudCgpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VsZWN0VmFyaWFudDogZnVuY3Rpb24gc2VsZWN0VmFyaWFudChwcm9kdWN0SWQsIHF1YW50aXR5KSB7CiAgICAgIGlmIChxdWFudGl0eSkgewogICAgICAgIHRoaXMuc2VsZWN0ZWRWYXJpYW50c1twcm9kdWN0SWRdID0gcXVhbnRpdHk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHRoaXMuc2VsZWN0ZWRWYXJpYW50c1twcm9kdWN0SWRdOwogICAgICB9CiAgICB9LAogICAgcmVsZWFzZUl0ZW1zOiBmdW5jdGlvbiByZWxlYXNlSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHNlbGVjdGVkSXRlbXNSZXNwb25zZSwgc2VsZWN0ZWRJdGVtcywganNvbiwgYmxvYiwgZm9ybURhdGEsIGZpbGVOYW1lOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnByb2Nlc3NTZWxlY3RlZFZhaWFudHMoIm9yZGVyRGF0ZSBBU0MiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtc1Jlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zID0gW107CiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zUmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gcmVzcG9uc2UuZGF0YS5ncm91cGVkLnByb2R1Y3RJZC5ncm91cHNbMF0uZG9jbGlzdC5kb2NzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICBvcmRlcklkOiBpdGVtLm9yZGVySWQsCiAgICAgICAgICAgICAgICAgICAgICBvcmRlckl0ZW1TZXFJZDogaXRlbS5vcmRlckl0ZW1TZXFJZCwKICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVJlYXNvbkVudW1JZDogIlJFTEVBU0VEIiwKICAgICAgICAgICAgICAgICAgICAgIHRvRmFjaWxpdHlJZDogIl9OQV8iIC8vIFRPRE8gTWFrZSBpdCBjb25maWd1cmFibGUKCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkSXRlbXMpLCBfdG9Db25zdW1hYmxlQXJyYXkoaXRlbXMpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAganNvbiA9IEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkSXRlbXMpOwogICAgICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtqc29uXSwgewogICAgICAgICAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gIlJlbGVhc2VJdGVtc18iICsgRGF0ZS5ub3coKSArICIuanNvbiI7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInVwbG9hZGVkRmlsZSIsIGJsb2IsIGZpbGVOYW1lKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiY29uZmlnSWQiLCAiTURNX1JFTF9PUkRfSVRNX0pTT04iKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBfdGhpczcuc3RvcmUuZGlzcGF0Y2goIm9yZGVyL3JlbGVhc2VJdGVtcyIsIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YTsnCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LnN0b3JlLmRpc3BhdGNoKCJvcmRlci9yZW1vdmVJdGVtcyIsIHsKICAgICAgICAgICAgICAgICAgICBpdGVtczogc2VsZWN0ZWRJdGVtcwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNhbmNlbEl0ZW1zOiBmdW5jdGlvbiBjYW5jZWxJdGVtcygpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgc2VsZWN0ZWRJdGVtc1Jlc3BvbnNlLCBzZWxlY3RlZEl0ZW1zLCBqc29uLCBibG9iLCBmb3JtRGF0YSwgZmlsZU5hbWU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczgucHJvY2Vzc1NlbGVjdGVkVmFpYW50cygib3JkZXJEYXRlIERFU0MiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtc1Jlc3BvbnNlID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zID0gW107CiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zUmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gcmVzcG9uc2UuZGF0YS5ncm91cGVkLnByb2R1Y3RJZC5ncm91cHNbMF0uZG9jbGlzdC5kb2NzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICBvcmRlcklkOiBpdGVtLm9yZGVySWQsCiAgICAgICAgICAgICAgICAgICAgICBvcmRlckl0ZW1TZXFJZDogaXRlbS5vcmRlckl0ZW1TZXFJZAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzZWxlY3RlZEl0ZW1zKSwgX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW1zKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGpzb24gPSBKU09OLnN0cmluZ2lmeShzZWxlY3RlZEl0ZW1zKTsKICAgICAgICAgICAgICAgIGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmaWxlTmFtZSA9ICJDYW5jZWxJdGVtc18iICsgRGF0ZS5ub3coKSArICIuanNvbiI7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInVwbG9hZGVkRmlsZSIsIGJsb2IsIGZpbGVOYW1lKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiY29uZmlnSWQiLCAiTURNX0NBTl9PUkRfSVRNX0pTT04iKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBfdGhpczguc3RvcmUuZGlzcGF0Y2goIm9yZGVyL2NhbmNlbEl0ZW1zIiwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhOycKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczguc3RvcmUuZGlzcGF0Y2goIm9yZGVyL3JlbW92ZUl0ZW1zIiwgewogICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzZWxlY3RlZEl0ZW1zCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcHJvY2Vzc1NlbGVjdGVkVmFpYW50czogZnVuY3Rpb24gcHJvY2Vzc1NlbGVjdGVkVmFpYW50cyhzb3J0QnkpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgdmFyaWFudFJlcXVlc3RzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB2YXJpYW50UmVxdWVzdHMgPSBbXTsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzOS5zZWxlY3RlZFZhcmlhbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9kdWN0SWQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgICAgZ3JvdXBCeUZpZWxkOiAncHJvZHVjdElkJywKICAgICAgICAgICAgICAgICAgICBncm91cExpbWl0OiBfdGhpczkuc2VsZWN0ZWRWYXJpYW50c1twcm9kdWN0SWRdLAogICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IFsicHJvZHVjdElkOiIgKyBwcm9kdWN0SWRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoSlNPTi5wYXJzZShwcm9jZXNzLmVudi5WVUVfQVBQX09SREVSX0ZJTFRFUlMpKSksCiAgICAgICAgICAgICAgICAgICAgc29ydEJ5OiBzb3J0QnkKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkub3JkZXJlZEJlZm9yZSB8fCBfdGhpczkub3JkZXJlZEFmdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWRCZWZvcmUgPSAoX3RoaXM5Lm9yZGVyZWRCZWZvcmUgPyBtb21lbnQudHooX3RoaXM5Lm9yZGVyZWRCZWZvcmUsICdZWVlZLU1NLUREJywgX3RoaXM5LnVzZXJQcm9maWxlLnVzZXJUaW1lWm9uZSkgOiBtb21lbnQudHoobW9tZW50KCksIF90aGlzOS51c2VyUHJvZmlsZS51c2VyVGltZVpvbmUpKS5lbmRPZignZGF5JykudXRjKCkuZm9ybWF0KCdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWRBZnRlciA9IChfdGhpczkub3JkZXJlZEFmdGVyID8gbW9tZW50LnR6KF90aGlzOS5vcmRlcmVkQWZ0ZXIsICdZWVlZLU1NLUREJywgX3RoaXM5LnVzZXJQcm9maWxlLnVzZXJUaW1lWm9uZSkgOiBtb21lbnQudHooIjAwMDEtMDEtMDEiLCAnWVlZWS1NTS1ERCcsIF90aGlzOS51c2VyUHJvZmlsZS51c2VyVGltZVpvbmUpKS5zdGFydE9mKCdkYXknKS51dGMoKS5mb3JtYXQoJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVF1ZXJ5ID0gJ29yZGVyRGF0ZTogWycgKyBvcmRlcmVkQWZ0ZXIgKyAnIFRPICcgKyBvcmRlcmVkQmVmb3JlICsgJ10nOwogICAgICAgICAgICAgICAgICAgIHBheWxvYWQuZmlsdGVycy5wdXNoKGRhdGVRdWVyeSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkucHJvbWlzZWRCZWZvcmUgfHwgX3RoaXM5LnByb21pc2VkQWZ0ZXIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZWRCZWZvcmUgPSAoX3RoaXM5LnByb21pc2VkQmVmb3JlID8gbW9tZW50LnR6KF90aGlzOS5wcm9taXNlZEJlZm9yZSwgJ1lZWVktTU0tREQnLCBfdGhpczkudXNlclByb2ZpbGUudXNlclRpbWVab25lKSA6IG1vbWVudC50eihtb21lbnQoKSwgX3RoaXM5LnVzZXJQcm9maWxlLnVzZXJUaW1lWm9uZSkpLmVuZE9mKCdkYXknKS51dGMoKS5mb3JtYXQoJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZWRBZnRlciA9IChfdGhpczkucHJvbWlzZWRBZnRlciA/IG1vbWVudC50eihfdGhpczkucHJvbWlzZWRBZnRlciwgJ1lZWVktTU0tREQnLCBfdGhpczkudXNlclByb2ZpbGUudXNlclRpbWVab25lKSA6IG1vbWVudC50eigiMDAwMS0wMS0wMSIsICdZWVlZLU1NLUREJywgX3RoaXM5LnVzZXJQcm9maWxlLnVzZXJUaW1lWm9uZSkpLnN0YXJ0T2YoJ2RheScpLnV0YygpLmZvcm1hdCgnWVlZWS1NTS1ERFRISDptbTpzc1taXScpOwogICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlZERhdGVRdWVyeSA9ICdwcm9taXNlZERhdGV0aW1lOiBbJyArIHByb21pc2VkQWZ0ZXIgKyAnIFRPICcgKyBwcm9taXNlZEJlZm9yZSArICddJzsKICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmZpbHRlcnMucHVzaChwcm9taXNlZERhdGVRdWVyeSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkuY3Vzb3RtZXJMb3lhbHR5KSB7CiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5maWx0ZXJzLnB1c2goJ29yZGVyTm90ZXM6ICcgKyBfdGhpczkuY3Vzb3RtZXJMb3lhbHR5KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczkuaGFzUHJvbWlzZWREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5maWx0ZXJzLnB1c2goIi1wcm9taXNlZERhdGV0aW1lOiAqIik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczkuc2VsZWN0ZWRCcmFuZCkgewogICAgICAgICAgICAgICAgICAgIHBheWxvYWQuZmlsdGVycy5wdXNoKCdwcm9kdWN0U3RvcmVJZDogJyArIF90aGlzOS5zZWxlY3RlZEJyYW5kKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdmFyaWFudFJlcXVlc3RzLnB1c2goUHJvZHVjdFNlcnZpY2UuZmV0Y2hDdXJyZW50TGlzdChwYXlsb2FkKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLmFsbCh2YXJpYW50UmVxdWVzdHMpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgcmV0dXJuIHsKICAgICAgaW5mb3JtYXRpb25DaXJjbGU6IGluZm9ybWF0aW9uQ2lyY2xlLAogICAgICBzZW5kOiBzZW5kLAogICAgICBidXNpbmVzczogYnVzaW5lc3MsCiAgICAgIGNsb3NlQ2lyY2xlOiBjbG9zZUNpcmNsZSwKICAgICAgaG91cmdsYXNzOiBob3VyZ2xhc3MsCiAgICAgIGNhbGVuZGFyOiBjYWxlbmRhciwKICAgICAgY2xvc2U6IGNsb3NlLAogICAgICBsaXN0OiBsaXN0LAogICAgICByaWJib246IHJpYmJvbiwKICAgICAgc3RvcmU6IHN0b3JlCiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/aniket/Desktop/Hact/preorder/src/views/product-details.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport {\n  IonBadge,\n  IonButton,\n  IonButtons,\n  IonBackButton,\n  IonCard,\n  IonChip,\n  IonContent,\n  IonFooter,\n  IonHeader,\n  IonLabel,\n  IonList,\n  IonListHeader,\n  IonIcon,\n  IonItem,\n  IonInput,\n  IonPage,\n  IonRow,\n  IonThumbnail,\n  IonTitle,\n  IonToggle,\n  IonSelect,\n  IonSelectOption,\n  IonToolbar,\n  alertController,\n  modalController,\n} from \"@ionic/vue\";\nimport { defineComponent } from \"vue\";\nimport {\n  informationCircle,\n  send,\n  business,\n  closeCircle,\n  hourglass,\n  calendar,\n  close,\n  list,\n  ribbon\n} from \"ionicons/icons\";\nimport WarehouseModal from \"./warehouse-modal.vue\";\nimport BackgroundJobModal from \"./background-job-modal.vue\";\nimport { useStore } from \"@/store\";\nimport { mapGetters } from \"vuex\";\nimport { ProductService } from '@/services/ProductService'\nimport moment from 'moment';\nimport Image from '@/components/Image.vue';\n\nexport default defineComponent({\n  name: \"product-details\",\n  components: {\n    IonBadge,\n    IonButton,\n    IonButtons,\n    IonBackButton,\n    IonCard,\n    IonChip,\n    IonContent,\n    IonFooter,\n    IonHeader,\n    IonLabel,\n    IonList,\n    IonListHeader,\n    IonIcon,\n    IonItem,\n    IonInput,\n    IonPage,\n    IonRow,\n    IonSelect,\n    IonSelectOption,\n    IonThumbnail,\n    IonTitle,\n    IonToggle,\n    IonToolbar,\n    Image\n  },\n  beforeMount () {\n    // TODO Handle if product id is invalid\n    this.store.dispatch('product/loadCurrent', { productId: this.$route.params.id }).then(() => {\n      this.getVariantProducts();\n    })\n  },\n  data() {\n    return {\n      orderedAfter: '',\n      orderedBefore: '',\n      promisedAfter: '',\n      promisedBefore: '',\n      selectedItems: [] as any,\n      selectedVariants: {} as any,\n      cusotmerLoyaltyOptions : JSON.parse(process.env?.VUE_APP_CUST_LOYALTY_OPTIONS),\n      cusotmerLoyalty: '',\n      hasPromisedDate: true\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getProductStock: 'stock/getProductStock',\n      current: 'product/getCurrent',\n      getProduct: 'product/getProduct',\n      isJobPending: 'job/isJobPending',\n      jobTotal: 'job/getTotal',\n      userProfile: 'user/getUserProfile',\n      selectedBrand: 'user/getSelectedBrand'\n    })\n  },\n  methods: {\n    async getVariantProducts() {\n      const payload = {\n        groupByField: 'productId',\n        groupLimit: 0,\n        filters: [ \"parentProductId: \" + this.$route.params.id, ...JSON.parse(process.env.VUE_APP_ORDER_FILTERS) ] as any\n      }\n      if (this.orderedBefore || this.orderedAfter) {\n        const orderedBefore = (this.orderedBefore ? moment.tz(this.orderedBefore, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(moment(), this.userProfile.userTimeZone)).endOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n        const orderedAfter = (this.orderedAfter ? moment.tz(this.orderedAfter, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(\"0001-01-01\", 'YYYY-MM-DD', this.userProfile.userTimeZone)).startOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n        const dateQuery: any = 'orderDate: [' + orderedAfter + ' TO ' + orderedBefore + ']';\n        payload.filters.push(dateQuery);\n      }\n      if (this.promisedBefore || this.promisedAfter) {\n        const promisedBefore = (this.promisedBefore ? moment.tz(this.promisedBefore, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(moment(), this.userProfile.userTimeZone)).endOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n        const promisedAfter = (this.promisedAfter ? moment.tz(this.promisedAfter, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(\"0001-01-01\", 'YYYY-MM-DD', this.userProfile.userTimeZone)).startOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n        const promisedDateQuery: any = 'promisedDatetime: [' + promisedAfter + ' TO ' + promisedBefore + ']';\n        payload.filters.push(promisedDateQuery);\n      }\n      if (this.cusotmerLoyalty) {\n        payload.filters.push('orderNotes: ' +this.cusotmerLoyalty);\n      }\n      if (!this.hasPromisedDate) {\n        payload.filters.push(\"-promisedDatetime: *\");\n      }\n      if (this.selectedBrand) {\n        payload.filters.push('productStoreId: ' + this.selectedBrand);\n      }\n      return this.store.dispatch(\"product/fetchCurrentList\", payload)\n    },\n    async infoAlert() {\n      const alert = await alertController.create({\n        header: this.$t(\"How are orders released?\"),\n        message: this.$t(\n          \"Orders are released from oldest to newest. Use the Date filter to identify orders taken before a certain date.\")+\"<p>\"+ this.$t(\"The order count in product cards will be updated based on the filters you select.\")+\"</p>\"\n        ,\n        buttons: [this.$t(\"Dismiss\")],\n\n      });\n      return alert.present();\n    },\n    async releaseAlert() {\n      const itemCount = Object.keys(this.selectedVariants).reduce( (count: number, productId: any) => {\n        return count + parseInt(this.selectedVariants[productId]);\n      }, 0)\n      const message = (this.jobTotal > 0 ? (this.jobTotal === 1 ? this.$t(\"There is a job already pending.\")  : this.$t(\"There are jobs already pending.\",  { count: this.jobTotal })) + \" \" : \"\") + this.$t(\n          'preorders will be automatically brokered and assigned for fulfillment.',{ count: itemCount }\n        )\n      const alert = await alertController.create({\n        header: this.$t(\"Release orders\"),\n        cssClass: \"alert-message\",\n        message,\n        buttons: [\n          {\n            text: this.$t('Cancel'),\n            role: 'cancel',\n            cssClass: 'secondary'\n          },\n          {\n            text:this.$t('Release'),\n            handler: () => {\n              this.releaseItems();           \n            },\n          },\n        ],\n      });\n      return alert.present();\n    },\n    async cancelAlert() {\n      const itemCount = Object.keys(this.selectedVariants).reduce( (count: number, productId: any) => {\n        return count + parseInt(this.selectedVariants[productId]);\n      }, 0);\n      const message = (this.jobTotal > 0 ? (this.jobTotal === 1 ? this.$t(\"There is a job already pending.\")  : this.$t(\"There are jobs already pending.\",  { count: this.jobTotal })) + \" \" : \"\") + this.$t(\n          'preorders will be cancelled. This action cannot be undone.',{ count: itemCount }\n        )\n      const alert = await alertController.create({\n        header: this.$t(\"Cancel orders\"),\n        message,\n        buttons: [\n            {\n              text: this.$t(\"Don't cancel\"),\n              role: 'cancel',\n              cssClass: 'secondary'\n            },\n            {\n              text: this.$t(\"Confirm\"),\n              handler: () => {\n                this.cancelItems();\n              },\n            },\n          ],\n\n      });\n      return alert.present();\n    },\n    async openWarehouseList() {\n      const warehousemodal = await modalController.create({\n        component: WarehouseModal,\n        cssClass: \"my-custom-class\",\n        componentProps: {\n          items: [],\n          selectedVariants: this.selectedVariants\n        },\n      });\n      return warehousemodal.present();\n    },\n    async openActiveJobs() {\n      const bgjobmodal = await modalController.create({\n        component: BackgroundJobModal,\n        cssClass: \"my-custom-class\",\n      });\n      return bgjobmodal.present();\n    },\n    selectVariant(productId: string, quantity: string) {\n      if (quantity) {\n        this.selectedVariants[productId] = quantity;\n      } else {\n        delete this.selectedVariants[productId]\n      }\n    },\n    async releaseItems() {\n      const selectedItemsResponse = await this.processSelectedVaiants(\"orderDate ASC\");\n      let selectedItems = [] as any;\n      selectedItemsResponse.forEach((response: any) => {\n          const items = response.data.grouped.productId.groups[0].doclist.docs.map((item: any) => {\n            return {\n              orderId: item.orderId,\n              orderItemSeqId: item.orderItemSeqId,\n              changeReasonEnumId: \"RELEASED\",\n              toFacilityId: \"_NA_\" // TODO Make it configurable\n            }\n          })\n          selectedItems = [...selectedItems, ...items];\n      })\n      const json = JSON.stringify(selectedItems);\n      const blob = new Blob([json], { type: 'application/json'});\n      const formData = new FormData();\n      const fileName = \"ReleaseItems_\" + Date.now() +\".json\";\n      formData.append(\"uploadedFile\", blob, fileName);\n      formData.append(\"configId\", \"MDM_REL_ORD_ITM_JSON\");\n      return this.store.dispatch(\"order/releaseItems\", {\n          headers: {\n              'Content-Type': 'multipart/form-data;'\n          },\n          data: formData\n      }).then(() => {\n        this.store.dispatch(\"order/removeItems\", { items: selectedItems });\n      })\n    },\n    async cancelItems() {\n      const selectedItemsResponse = await this.processSelectedVaiants(\"orderDate DESC\");\n      let selectedItems = [] as any;\n      selectedItemsResponse.forEach((response: any) => {\n          const items = response.data.grouped.productId.groups[0].doclist.docs.map((item: any) => {\n            return {\n              orderId: item.orderId,\n              orderItemSeqId: item.orderItemSeqId\n            }\n          })\n          selectedItems = [...selectedItems, ...items];\n      })\n      const json = JSON.stringify(selectedItems);\n      const blob = new Blob([json], { type: 'application/json'});\n      const formData = new FormData();\n      const fileName = \"CancelItems_\" + Date.now() +\".json\";\n      formData.append(\"uploadedFile\", blob, fileName);\n      formData.append(\"configId\", \"MDM_CAN_ORD_ITM_JSON\");\n      return this.store.dispatch(\"order/cancelItems\", {\n          headers: {\n              'Content-Type': 'multipart/form-data;'\n          },\n          data: formData\n      }).then(() => {\n        this.store.dispatch(\"order/removeItems\", { items: selectedItems });\n      })\n    },\n    async processSelectedVaiants(sortBy: string) {\n      const variantRequests: any = [];\n      Object.keys(this.selectedVariants).forEach((productId: any) => {\n        const payload = {\n          groupByField: 'productId',\n          groupLimit: this.selectedVariants[productId],\n          filters: [ \"productId:\" + productId, ...JSON.parse(process.env.VUE_APP_ORDER_FILTERS) ] as any,\n          sortBy: sortBy\n        }\n        if (this.orderedBefore || this.orderedAfter) {\n          const orderedBefore = (this.orderedBefore ? moment.tz(this.orderedBefore, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(moment(), this.userProfile.userTimeZone)).endOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n          const orderedAfter = (this.orderedAfter ? moment.tz(this.orderedAfter, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(\"0001-01-01\", 'YYYY-MM-DD', this.userProfile.userTimeZone)).startOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n          const dateQuery: any = 'orderDate: [' + orderedAfter + ' TO ' + orderedBefore + ']';\n          payload.filters.push(dateQuery);\n        }\n        if (this.promisedBefore || this.promisedAfter) {\n          const promisedBefore = (this.promisedBefore ? moment.tz(this.promisedBefore, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(moment(), this.userProfile.userTimeZone)).endOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n          const promisedAfter = (this.promisedAfter ? moment.tz(this.promisedAfter, 'YYYY-MM-DD', this.userProfile.userTimeZone) : moment.tz(\"0001-01-01\", 'YYYY-MM-DD', this.userProfile.userTimeZone)).startOf('day').utc().format('YYYY-MM-DDTHH:mm:ss[Z]');\n          const promisedDateQuery: any = 'promisedDatetime: [' + promisedAfter + ' TO ' + promisedBefore + ']';\n          payload.filters.push(promisedDateQuery);\n        }\n        if (this.cusotmerLoyalty) {\n          payload.filters.push('orderNotes: ' +this.cusotmerLoyalty);\n        }\n        if (!this.hasPromisedDate) {\n          payload.filters.push(\"-promisedDatetime: *\");\n        }\n        if (this.selectedBrand) {\n          payload.filters.push('productStoreId: ' +this.selectedBrand);\n        }\n        variantRequests.push(ProductService.fetchCurrentList(payload));\n      });\n      return Promise.all(variantRequests);\n    },\n  },\n  setup() {\n    const store = useStore();\n    return {\n      informationCircle,\n      send,\n      business,\n      closeCircle,\n      hourglass,\n      calendar,\n      close,\n      list,\n      ribbon,\n      store\n    };\n  },\n});\n"],"sourceRoot":""}]}