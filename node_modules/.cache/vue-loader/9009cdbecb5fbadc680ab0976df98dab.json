{"remainingRequest":"/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/aniket/Desktop/Hact/preorder/src/views/timezone-modal.vue?vue&type=template&id=9a01901a","dependencies":[{"path":"/home/aniket/Desktop/Hact/preorder/src/views/timezone-modal.vue","mtime":1634884664340},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/babel-loader/lib/index.js","mtime":1634884699504},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1634884699780},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/cache-loader/dist/cjs.js","mtime":1634884698972},{"path":"/home/aniket/Desktop/Hact/preorder/node_modules/vue-loader-v16/dist/index.js","mtime":1634884699380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGlvbi1oZWFkZXI+CiAgICA8aW9uLXRvb2xiYXI+CiAgICAgIDxpb24tYnV0dG9ucyBzbG90PSJzdGFydCI+CiAgICAgICAgPGlvbi1idXR0b24gQGNsaWNrPSJjbG9zZU1vZGFsIj4gCiAgICAgICAgICA8aW9uLWljb24gOmljb249ImNsb3NlIiAvPgogICAgICAgIDwvaW9uLWJ1dHRvbj4KICAgICAgPC9pb24tYnV0dG9ucz4KICAgICAgPGlvbi10aXRsZT57eyAkdCgiU2VsZWN0IHRpbWUgem9uZSIpIH19PC9pb24tdGl0bGU+CiAgICA8L2lvbi10b29sYmFyPgogICAgPGlvbi10b29sYmFyPgogICAgICA8aW9uLXNlYXJjaGJhciBAaW9uRm9jdXM9InNlbGVjdFNlYXJjaEJhclRleHQoJGV2ZW50KSIgOnBsYWNlaG9sZGVyPSIkdCgnU2VhcmNoIHRpbWUgem9uZXMnKSIgIHYtbW9kZWw9InF1ZXJ5U3RyaW5nIiBAaW9uSW5wdXQ9ImZpbmRUaW1lWm9uZSgpIj48L2lvbi1zZWFyY2hiYXI+CiAgICA8L2lvbi10b29sYmFyPgogIDwvaW9uLWhlYWRlcj4KCiAgPGlvbi1jb250ZW50IGNsYXNzPSJpb24tcGFkZGluZyI+CiAgICA8IS0tIEVtcHR5IHN0YXRlIC0tPgogICAgPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiIHYtaWY9ImZpbHRlcmVkVGltZVpvbmVzLmxlbmd0aCA9PT0gMCI+CiAgICAgIDxwPnt7ICR0KCJObyB0aW1lIHpvbmUgZm91bmQiKX19PC9wPgogICAgPC9kaXY+CgogICAgPCEtLSBUaW1lem9uZXMgLS0+CiAgICA8ZGl2IHYtZWxzZT4KICAgICAgPGlvbi1saXN0PgogICAgICAgIDxpb24tcmFkaW8tZ3JvdXAgdmFsdWU9InJkIiB2LW1vZGVsPSJ0aW1lWm9uZUlkIj4KICAgICAgICAgIDxpb24taXRlbSAgdi1iaW5kOmtleT0idGltZVpvbmUuaWQiIHYtZm9yPSJ0aW1lWm9uZSBpbiBmaWx0ZXJlZFRpbWVab25lcyI+CiAgICAgICAgICAgIDxpb24tbGFiZWw+e3sgdGltZVpvbmUubGFiZWwgfX0gKHt7IHRpbWVab25lLmlkIH19KTwvaW9uLWxhYmVsPgogICAgICAgICAgICA8aW9uLXJhZGlvIDp2YWx1ZT0idGltZVpvbmUuaWQiIHNsb3Q9InN0YXJ0Ij48L2lvbi1yYWRpbz4KICAgICAgICAgIDwvaW9uLWl0ZW0+CiAgICAgICAgPC9pb24tcmFkaW8tZ3JvdXA+CiAgICAgIDwvaW9uLWxpc3Q+CiAgICA8L2Rpdj4KICAgIAogICAgPGlvbi1mYWIgdmVydGljYWw9ImJvdHRvbSIgaG9yaXpvbnRhbD0iZW5kIiBzbG90PSJmaXhlZCI+CiAgICAgIDxpb24tZmFiLWJ1dHRvbiA6ZGlzYWJsZWQ9IiF0aW1lWm9uZUlkIiBAY2xpY2s9InNhdmVBbGVydCI+CiAgICAgICAgPGlvbi1pY29uIDppY29uPSJzYXZlIiAvPgogICAgICA8L2lvbi1mYWItYnV0dG9uPgogICAgPC9pb24tZmFiPgogIDwvaW9uLWNvbnRlbnQ+Cg=="},{"version":3,"sources":["/home/aniket/Desktop/Hact/preorder/src/views/timezone-modal.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,C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","file":"/home/aniket/Desktop/Hact/preorder/src/views/timezone-modal.vue","sourceRoot":"","sourcesContent":["<template>\n  <ion-header>\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-button @click=\"closeModal\"> \n          <ion-icon :icon=\"close\" />\n        </ion-button>\n      </ion-buttons>\n      <ion-title>{{ $t(\"Select time zone\") }}</ion-title>\n    </ion-toolbar>\n    <ion-toolbar>\n      <ion-searchbar @ionFocus=\"selectSearchBarText($event)\" :placeholder=\"$t('Search time zones')\"  v-model=\"queryString\" @ionInput=\"findTimeZone()\"></ion-searchbar>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-content class=\"ion-padding\">\n    <!-- Empty state -->\n    <div class=\"empty-state\" v-if=\"filteredTimeZones.length === 0\">\n      <p>{{ $t(\"No time zone found\")}}</p>\n    </div>\n\n    <!-- Timezones -->\n    <div v-else>\n      <ion-list>\n        <ion-radio-group value=\"rd\" v-model=\"timeZoneId\">\n          <ion-item  v-bind:key=\"timeZone.id\" v-for=\"timeZone in filteredTimeZones\">\n            <ion-label>{{ timeZone.label }} ({{ timeZone.id }})</ion-label>\n            <ion-radio :value=\"timeZone.id\" slot=\"start\"></ion-radio>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n    </div>\n    \n    <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n      <ion-fab-button :disabled=\"!timeZoneId\" @click=\"saveAlert\">\n        <ion-icon :icon=\"save\" />\n      </ion-fab-button>\n    </ion-fab>\n  </ion-content>\n</template>\n\n<script lang=\"ts\">\nimport { \n  IonButtons,\n  IonButton,\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonHeader,\n  IonItem,\n  IonIcon,\n  IonLabel,\n  IonRadioGroup,\n  IonRadio,\n  IonList,\n  IonSearchbar,\n  IonTitle,\n  IonToolbar,\n  modalController,\n  alertController } from \"@ionic/vue\";\nimport { defineComponent } from \"vue\";\nimport { close, save } from \"ionicons/icons\";\nimport { useStore } from \"@/store\";\nimport { UserService } from \"@/services/UserService\";\nimport { hasError } from '@/utils'\nimport moment from 'moment';\nimport \"moment-timezone\";\n\nexport default defineComponent({\n  name: \"TimeZoneModal\",\n  data() {\n    return {\n      queryString: '',\n      filteredTimeZones: [],\n      timeZones: [],\n      timeZoneId: ''\n    }\n  },\n  computed: {\n  },\n  methods: {\n    closeModal() {\n      modalController.dismiss({ dismissed: true });\n    },\n    async saveAlert() {\n      const message = this.$t(\"Are you sure you want to change the time zone to?\", { timeZoneId: this.timeZoneId });\n      const alert = await alertController.create({\n        header: this.$t(\"Update time zone\"),\n        message,\n        buttons: [\n            {\n              text: this.$t(\"Cancel\"),\n            },\n            {\n              text: this.$t(\"Confirm\"),\n              handler: () => {\n                this.setUserTimeZone();\n                }\n              }\n            ],\n      });\n      return alert.present();\n    },\n    escapeRegExp(text: string) {\n      //TODO Handle it in a better way\n      // Currently when the user types special character as it part of Regex expressions it breaks the code\n      // so removed the characters for now\n      return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    },\n    findTimeZone() { \n      const regularExp = new RegExp(`${this.escapeRegExp(this.queryString)}`, 'i');\n      this.filteredTimeZones = this.timeZones.filter((timeZone: any) => {\n        return regularExp.test(timeZone.id) || regularExp.test(timeZone.label);\n      });\n    },\n    async getAvailableTimeZones() {\n      UserService.getAvailableTimeZones().then((resp: any) => {\n        if (resp.status === 200 && !hasError(resp)) {\n          // TODO FIx this as fixed on backend\n          // Currently backend API returns some of the legacy timezones which are not found in moment list\n          // Due to which if we set them we get an error\n          // Filtered them out till it is fixed at backend\n          this.timeZones = resp.data.filter((timeZone: any) => {\n            return moment.tz.zone(timeZone.id);\n          });\n          this.findTimeZone();\n        }\n      })\n    },\n    selectSearchBarText(event: any) {\n      event.target.getInputElement().then((element: any) => {\n        element.select();\n      })\n    },\n    async setUserTimeZone() {\n      return this.store.dispatch(\"user/setUserTimeZone\", {\n          \"tzId\": this.timeZoneId\n      }).then(() => {\n        this.closeModal()\n      })\n    }\n  },\n  beforeMount () {\n    this.getAvailableTimeZones();\n  },\n  setup() {\n    const store = useStore();\n    return {\n      close,\n      save,\n      store\n    };\n  },\n  components: { \n    IonButtons,\n    IonButton,\n    IonContent,\n    IonFab,\n    IonFabButton,\n    IonHeader,\n    IonIcon,\n    IonItem,\n    IonLabel,\n    IonList,\n    IonRadioGroup,\n    IonRadio,\n    IonSearchbar,\n    IonTitle,\n    IonToolbar \n    },\n});\n</script>\n"]}]}